CREATE SCHEMA campo;
USE campo;

CREATE TABLE Condicion_Fiscal(
id_condicion_fiscal INT NOT NULL PRIMARY KEY,
Condicion_fiscal VARCHAR (50)
);


CREATE TABLE Clase_de_animal(
id_clase INT NOT NULL PRIMARY KEY,
CLASE VARCHAR (50)
);

CREATE TABLE Categoria_de_animal(
id_categoria INT NOT NULL PRIMARY KEY,
Categoria VARCHAR (50)
);


CREATE TABLE Suplementos(
ID_suplementos INT NOT NULL PRIMARY KEY,
SUPLEMENTO VARCHAR (50)
);


CREATE TABLE PROVEEDORES(
ID_PROVEEDOR INT  NOT NULL PRIMARY KEY,
CUIT VARCHAR (13) NOT NULL, 
NOMBRE VARCHAR (20),
APELLIDO VARCHAR (20) NOT NULL,
DIRECCION VARCHAR (25), 
TELEFONO VARCHAR (30),
EMAIL VARCHAR (30),
ID_CONDICION_FISCAL INT  NOT NULL -- foreign key
);	


CREATE TABLE PADRES (
ID_PADRES INT NOT NULL PRIMARY KEY,
NUMERO_CARABANA VARCHAR (10) NOT NULL,
CLASE INT , -- foreign key
CATEGORIA INT NOT NULL, -- foreign key
ID_PROVEEDOR INT NOT NULL, -- foreign key
DESCRIPCION VARCHAR (50),
FEHCA_INGRESO DATE NOT NULL,
COSTO decimal NOT NULL,
FECHA_EGRESO DATE,
PRECIO_VENTA DECIMAL ,
MOTIVO_EGRESO VARCHAR (50)
);


CREATE TABLE MADRES (
ID_MADRES INT NOT NULL PRIMARY KEY,
NUMERO_CARABANA VARCHAR (10) NOT NULL,
CLASE INT, -- FOREIGN KEY
CATEGORIA INT NOT NULL, -- FOREIGN KEY
ID_PROVEEDOR INT NOT NULL, -- FOREIGN KEY
COMENTARIO VARCHAR (50),
FEHCA_INGRESO DATE NOT NULL,
COSTO DECIMAL NOT NULL,
FECHA_EGRESO DATE,
PRECIO_VENTA DECIMAL,
MOTIVO_EGRESO VARCHAR (50)
);


CREATE TABLE CLIENTES (
ID_CLIENTES INT NOT NULL PRIMARY KEY,
CUIT VARCHAR(13) NOT NULL, 
NOMBRE VARCHAR(20),
APELLIDO VARCHAR(20) NOT NULL,
DIRECCION VARCHAR(25),
TELEFONO INT,
EMAIL VARCHAR(30),
ID_CONDICION_FISCAL INT NOT NULL
);


CREATE TABLE CRIAS (
ID_CRIAS INT  NOT NULL PRIMARY KEY,
NUMERO_CARABANA VARCHAR (10) NOT NULL,
CLASE INT NOT NULL, -- FOREIGN KEY
CATEGORIA INT NOT NULL, -- FOREIGN KEY
ID_PROVEEDOR INT NOT NULL, -- FOREIGN KEY
ID_MADRE INT NOT NULL, -- FOREIGN KEY
COMENTARIO VARCHAR (90), 
FECHA_INGRESO DATE NOT NULL,
COSTO DECIMAL,
FECHA_DESTETE DATE,
PESO_DESTETE DECIMAL,
FECHA_ENTRADA_ENGORDE DATE,
PESO_ENTRADA_ENGORDE DECIMAL,
SUPLEMENTOS INT NOT NULL, -- FOREIGN KEY
MOTIVO_EGRESO VARCHAR (90)

);

ALTER TABLE Proveedores
ADD CONSTRAINT fk_proveedores_condicionfiscal
foreign key(ID_CONDICION_FISCAL) REFERENCES Condicion_Fiscal (id_condicion_fiscal);

ALTER TABLE PADRES
ADD CONSTRAINT FK_clase_IDclase
FOREIGN KEY (CLASE) REFERENCES Clase_de_animal (id_clase),
ADD CONSTRAINT FK_CATEGORIA_IDcategoria
FOREIGN KEY (CATEGORIA) REFERENCES Categoria_de_animal (id_categoria),
ADD CONSTRAINT FK_VENDEDOR
foreign key(ID_PROVEEDOR) REFERENCES PROVEEDORES (ID_PROVEEDOR);

ALTER TABLE MADRES
ADD CONSTRAINT FK_CLASEM_IDCLASE
FOREIGN KEY (CLASE) REFERENCES Clase_de_animal (id_clase),
ADD CONSTRAINT FK_CATEGORIAM_IDCATEGORIA
FOREIGN KEY (CATEGORIA) REFERENCES Categoria_de_animal (id_categoria),
ADD CONSTRAINT FK_PROVEEDORM_IDPROVEDOR
foreign key(ID_PROVEEDOR) REFERENCES PROVEEDORES (ID_PROVEEDOR);

ALTER TABLE CLIENTES
ADD CONSTRAINT FK_CLIENTES_IDCONDICIONFISCAL
FOREIGN KEY (ID_CONDICION_FISCAL) REFERENCES Condicion_Fiscal (id_condicion_fiscal);

ALTER TABLE CRIAS
ADD CONSTRAINT FK_CLASEC_IDCLASES
FOREIGN KEY (CLASE) REFERENCES Clase_de_animal (id_clase),
ADD CONSTRAINT FK_CATEGORIAC_IDCATEGORIA
FOREIGN KEY (CATEGORIA) REFERENCES Categoria_de_animal (id_categoria),
ADD CONSTRAINT FK_PROVEEDORC_IDPROVEDOR
foreign key (ID_PROVEEDOR) REFERENCES PROVEEDORES (ID_PROVEEDOR),
ADD CONSTRAINT FK_MADREC_IDMADRE
FOREIGN KEY (ID_MADRE) REFERENCES MADRES (ID_MADRES),
ADD CONSTRAINT FK_SUPLEMENTOSC_IDSUPLEMTOS
FOREIGN KEY (SUPLEMENTOS) REFERENCES SUPLEMENTOS (ID_suplementos);

